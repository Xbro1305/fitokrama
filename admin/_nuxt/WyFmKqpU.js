import{K as C,L as F,r as w,z as r,d as x,D as S,J as c,C as k,A as i,t as R,B as v,G as t,M as T,m as A}from"./bgoYWPAe.js";import{u as B}from"./YPrUqGfY.js";import{V as P,a as D,b as I,c as M}from"./Cr7eoFdf.js";import{m as N,c as U,V as b}from"./ChHoO5pa.js";/* empty css        */import{c as _}from"./DAr8DC6_.js";import{V as $}from"./vZHN5tzn.js";import{m as h,u as z}from"./C7KYmi4a.js";import{f as E}from"./D0wQKDx6.js";const G=C({...h(),...N()},"VForm"),H=F()({name:"VForm",props:G(),emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,u){let{slots:d,emit:s}=u;const o=U(n),m=w();function p(e){e.preventDefault(),o.reset()}function f(e){const a=e,l=o.validate();a.then=l.then.bind(l),a.catch=l.catch.bind(l),a.finally=l.finally.bind(l),s("submit",a),a.defaultPrevented||l.then(g=>{var V;let{valid:y}=g;y&&((V=m.value)==null||V.submit())}),a.preventDefault()}return z(()=>{var e;return r("form",{ref:m,class:["v-form",n.class],style:n.style,novalidate:!0,onReset:p,onSubmit:f},[(e=d.default)==null?void 0:e.call(d,o)])}),E(o,m)}}),J=_("v-spacer","div","VSpacer"),Z=x({__name:"login",setup(n){B({title:"Вход"});const{isAuthenticated:u,login:d}=S(),s=c({email:"",password:""}),o=c({email:[],password:[]}),m=w(!1),p=async()=>{await d({mail:s.email,pass:s.password}),u&&A("/print")};return(f,e)=>(R(),k(P,{"max-width":"600px",class:"ma-auto"},{default:i(()=>[r(D,null,{default:i(()=>e[4]||(e[4]=[v(" Вход ")])),_:1}),r(H,{onSubmit:T(p,["prevent"])},{default:i(()=>[r(I,null,{default:i(()=>[r(b,{modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).email=a),label:"E-mail",type:"email","error-messages":t(o).email,onInput:e[1]||(e[1]=a=>t(o).email=[])},null,8,["modelValue","error-messages"]),r(b,{modelValue:t(s).password,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).password=a),label:"Пароль",type:"password","error-messages":t(o).password,onInput:e[3]||(e[3]=a=>t(o).password=[])},null,8,["modelValue","error-messages"])]),_:1}),r(M,null,{default:i(()=>[r(J),r($,{type:"submit",color:"primary",variant:"flat",disabled:t(s).email.length<3||!t(s).password||t(m),loading:t(m)},{default:i(()=>e[5]||(e[5]=[v(" Войти ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1}))}});export{Z as default};

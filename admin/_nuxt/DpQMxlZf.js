import{F,H as C,r as w,z as r,d as x,aH as S,am as c,aG as k,A as m,t as R,B as v,aE as t,aC as T,m as A}from"./CfqLg0YU.js";import{u as B}from"./ldwvp42E.js";import{V as P,a as H,b as h,c as D}from"./D2ZkSELP.js";import{h as E,i as I,f as N,e as b}from"./g7gLE2Et.js";/* empty css        */import{y as U,V as _}from"./4-0UNvF0.js";import{a as $,e as z}from"./dM_3ga0O.js";import"./BTv1UrFX.js";const G=F({...$(),...E()},"VForm"),M=C()({name:"VForm",props:G(),emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,u){let{slots:d,emit:s}=u;const o=I(n),i=w();function p(e){e.preventDefault(),o.reset()}function f(e){const a=e,l=o.validate();a.then=l.then.bind(l),a.catch=l.catch.bind(l),a.finally=l.finally.bind(l),s("submit",a),a.defaultPrevented||l.then(g=>{var V;let{valid:y}=g;y&&((V=i.value)==null||V.submit())}),a.preventDefault()}return z(()=>{var e;return r("form",{ref:i,class:["v-form",n.class],style:n.style,novalidate:!0,onReset:p,onSubmit:f},[(e=d.default)==null?void 0:e.call(d,o)])}),N(o,i)}}),j=U("v-spacer","div","VSpacer"),Y=x({__name:"login",setup(n){B({title:"Вход"});const{isAuthenticated:u,login:d}=S(),s=c({email:"",password:""}),o=c({email:[],password:[]}),i=w(!1),p=async()=>{await d({mail:s.email,pass:s.password}),u&&A("/print")};return(f,e)=>(R(),k(P,{"max-width":"600px",class:"ma-auto"},{default:m(()=>[r(H,null,{default:m(()=>e[4]||(e[4]=[v(" Вход ")])),_:1}),r(M,{onSubmit:T(p,["prevent"])},{default:m(()=>[r(h,null,{default:m(()=>[r(b,{modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).email=a),label:"E-mail",type:"email","error-messages":t(o).email,onInput:e[1]||(e[1]=a=>t(o).email=[])},null,8,["modelValue","error-messages"]),r(b,{modelValue:t(s).password,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).password=a),label:"Пароль",type:"password","error-messages":t(o).password,onInput:e[3]||(e[3]=a=>t(o).password=[])},null,8,["modelValue","error-messages"])]),_:1}),r(D,null,{default:m(()=>[r(j),r(_,{type:"submit",color:"primary",variant:"flat",disabled:t(s).email.length<3||!t(s).password||t(i),loading:t(i)},{default:m(()=>e[5]||(e[5]=[v(" Войти ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1}))}});export{Y as default};

import{u as k}from"./B83tnpwP.js";import{d as h,N as x,C as D,D as T,r as v,M as g,E as $,g as A,F as B,A as l,q as N,L as _,t as P,z as o,B as R,G as V,I as w}from"./CD-ciyMC.js";import{V as U,a as q,b as E}from"./S1xGE2Sl.js";import{a as F,V as y}from"./V7KghpKn.js";import{V as G}from"./D2o8XtCw.js";import"./D2qL_eWx.js";import"./tHn_lS1N.js";import"./BJOK9706.js";import"./BT2HD4FG.js";const Z=h({__name:"index",async setup(M){let d,S;const t=x(),{showError:u}=D();k({title:"Все заказы"});const{email:i,password:m}=T(),p=N().public.backendUrl,I=[{title:"ID",key:"id"},{title:"Номер",key:"number"},{title:"Дата",key:"datetime_create"},{title:"Сумма",key:"sum"}],b=new Date().toISOString().substring(0,10),r=v(t.parseISO(b)),s=v(t.parseISO(b)),n=v([]),{data:f,error:C}=([d,S]=g(()=>_(`${p}/admin/orders.php`,{method:"POST",body:{email:i,password:m,date_from:`${t.toISO(r.value)} 00:00:00`,date_to:`${t.toISO(s.value)} 23:59:59`}},"$pqtWcjQkdb")),d=await d,S(),d);return f.value&&f.value.orders?n.value=f.value.orders:C&&u("Ошибка соединения с сервером"),$(r,async()=>{const{data:a,error:e}=await _(`${p}/admin/orders.php`,{method:"POST",body:{email:i,password:m,date_from:`${t.toISO(r.value)} 00:00:00`,date_to:`${t.toISO(s.value)} 23:59:59`}},"$cmRBlMwAGX");a.value&&a.value.orders?n.value=a.value.orders:e&&u("Ошибка соединения с сервером")}),$(s,async()=>{const{data:a,error:e}=await _(`${p}/admin/orders.php`,{method:"POST",body:{email:i,password:m,date_from:`${t.toISO(r.value)} 00:00:00`,date_to:`${t.toISO(s.value)} 23:59:59`}},"$P8rApiifAs");a.value&&a.value.orders?n.value=a.value.orders:e&&u("Ошибка соединения с сервером")}),(a,e)=>{const O=A("v-date-input");return P(),B(U,null,{default:l(()=>[o(q,null,{default:l(()=>e[2]||(e[2]=[R(" Все заказы ")])),_:1}),o(E,null,{default:l(()=>[o(F,null,{default:l(()=>[o(y,{cols:"12",md:"6"},{default:l(()=>[o(O,{modelValue:V(r),"onUpdate:modelValue":e[0]||(e[0]=c=>w(r)?r.value=c:null),label:"Дата, от"},null,8,["modelValue"])]),_:1}),o(y,{cols:"12",md:"6"},{default:l(()=>[o(O,{modelValue:V(s),"onUpdate:modelValue":e[1]||(e[1]=c=>w(s)?s.value=c:null),label:"Дата, до"},null,8,["modelValue"])]),_:1})]),_:1}),o(G,{headers:I,items:V(n)},null,8,["items"])]),_:1})]),_:1})}}});export{Z as default};

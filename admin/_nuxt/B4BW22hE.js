import{L as C,M as F,r as w,z as r,d as x,C as S,K as c,E as k,A as i,t as R,B as b,F as t,N as T,m as A}from"./DD7AHv1g.js";import{u as B}from"./C8wjtVdh.js";import{V as P,a as N,b as D,c as E}from"./MCwiuoYB.js";import{m as I,c as M,V as v}from"./DNOu9Y9V.js";import{V as U}from"./BI7us5jq.js";import{m as _,u as $,V as h}from"./hYNdz_3a.js";import{f as z}from"./DWGaNmQL.js";import"./BQXSZ5PM.js";import"./D-Pd036u.js";/* empty css        */const H=C({..._(),...I()},"VForm"),K=F()({name:"VForm",props:H(),emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,u){let{slots:d,emit:s}=u;const o=M(n),m=w();function p(e){e.preventDefault(),o.reset()}function f(e){const a=e,l=o.validate();a.then=l.then.bind(l),a.catch=l.catch.bind(l),a.finally=l.finally.bind(l),s("submit",a),a.defaultPrevented||l.then(g=>{var V;let{valid:y}=g;y&&((V=m.value)==null||V.submit())}),a.preventDefault()}return $(()=>{var e;return r("form",{ref:m,class:["v-form",n.class],style:n.style,novalidate:!0,onReset:p,onSubmit:f},[(e=d.default)==null?void 0:e.call(d,o)])}),z(o,m)}}),Z=x({__name:"login",setup(n){B({title:"Вход"});const{isAuthenticated:u,login:d}=S(),s=c({email:"",password:""}),o=c({email:[],password:[]}),m=w(!1),p=async()=>{await d({mail:s.email,pass:s.password}),u&&A("/print")};return(f,e)=>(R(),k(P,{"max-width":"600px",class:"ma-auto"},{default:i(()=>[r(N,null,{default:i(()=>e[4]||(e[4]=[b(" Вход ")])),_:1}),r(K,{onSubmit:T(p,["prevent"])},{default:i(()=>[r(D,null,{default:i(()=>[r(v,{modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).email=a),label:"E-mail",type:"email","error-messages":t(o).email,onInput:e[1]||(e[1]=a=>t(o).email=[])},null,8,["modelValue","error-messages"]),r(v,{modelValue:t(s).password,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).password=a),label:"Пароль",type:"password","error-messages":t(o).password,onInput:e[3]||(e[3]=a=>t(o).password=[])},null,8,["modelValue","error-messages"])]),_:1}),r(E,null,{default:i(()=>[r(U),r(h,{type:"submit",color:"primary",variant:"flat",disabled:t(s).email.length<3||!t(s).password||t(m),loading:t(m)},{default:i(()=>e[5]||(e[5]=[b(" Войти ")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1}))}});export{Z as default};
